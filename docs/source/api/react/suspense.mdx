# Suspense (Experimental)

Apollo Client supports React's experimental Suspense feature with the `useSuspenseQuery`, `useBackgroundQuery`, and `useReadQuery` hooks.

## Overview

[Suspense](https://reactjs.org/docs/concurrent-mode-suspense.html) is a React feature that lets you defer rendering part of your application tree until some condition is met (like data from a network request arriving).

## `useSuspenseQuery`

This hook allows you to make a query that is compatible with Suspense. Here's an example:

```jsx
const { data } = useSuspenseQuery(listQuery);
```

## `useBackgroundQuery` and `useReadQuery`

These hooks allow you to initiate a query outside of the component that will read and render the data. Here's an example:

```jsx
const { data } = useBackgroundQuery(listQuery);
const { data } = useReadQuery(listQuery);
```

## `startTransition`

This is a React feature that allows you to mark a state update as "transitional", delaying its effect on the user interface. Here's an example:

```jsx
startTransition(() => {
  // Your state update goes here
});
```

## `@defer`

This directive allows you to delay the execution of some parts of your query. Here's an example:

```jsx
const { data } = useQuery(gql`
  query {
    user {
      name
      posts @defer {
        title
      }
    }
  }
`);
```

## Resources

- [Codesandbox example](https://codesandbox.io/s/apollo-client-suspense-example)
- [Spotify demo repo](https://github.com/apollographql/apollo-client/tree/main/examples/bundling/tree-shaking)